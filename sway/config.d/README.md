# Sway Modular Configuration Directory

This directory contains modular configuration files for Sway window manager. Files are loaded in numerical order by the main Sway config.

## File Organization

**Numbering Scheme:**
- `00-*` - Variables and user-editable settings
- `10-*` - Hardware configuration (monitors, inputs)
- `20-*` - Workspace and window management
- `30-*` - Keybindings (reserved for future use)
- `40-*` - Appearance and theming (reserved for future use)
- `50-*` - Autostart and services (reserved for future use)

## Current Files

### 00-variables.conf
User-customizable monitor variables and preferences. Edit this file to:
- Define monitor names (`$primary`, `$secondary`, `$tertiary`)
- Set workspaces per monitor
- Configure auto-detection behavior

### 10-monitors.conf
Physical monitor configuration. This file contains:
- Monitor resolutions and positions
- HiDPI scaling settings
- Display rotation and orientation
- Adaptive sync configuration

Auto-generated by `scripts/setup-monitors.sh` but can be manually edited.

### 20-workspaces.conf
Workspace-to-monitor assignments. This file manages:
- Which workspaces appear on which monitors
- Optional workspace naming
- Multi-monitor navigation keybindings

Auto-generated by `scripts/setup-monitors.sh` but can be manually edited.

## Usage

### Initial Setup
```bash
# Detect connected monitors
bash ~/Projects/bunkeros/scripts/detect-monitors.sh

# Configure multi-monitor setup
bash ~/Projects/bunkeros/scripts/setup-monitors.sh
```

### Manual Configuration
1. Edit the `.conf` files in this directory
2. Reload Sway: Press `Super + Shift + R` or run `swaymsg reload`

### Reset to Defaults
```bash
# Backup current config
cp ~/.config/sway/config.d/*.conf ~/config-backup/

# Copy fresh defaults from BunkerOS repo
cp ~/Projects/bunkeros/sway/config.d/*.conf ~/.config/sway/config.d/

# Reload Sway
swaymsg reload
```

## File Loading Order

Files are loaded in alphabetical order by the main Sway config:
```sway
include ~/.config/sway/config.d/*.conf
```

This means:
1. `00-variables.conf` loads first (defines variables)
2. `10-monitors.conf` loads second (uses variables for monitor config)
3. `20-workspaces.conf` loads third (uses monitor variables for workspace assignments)

## Best Practices

**DO:**
- ✓ Add comments explaining your custom configurations
- ✓ Test changes with `swaymsg reload` before logging out
- ✓ Keep backups of working configurations
- ✓ Use the provided scripts for initial setup

**DON'T:**
- ✗ Remove the numbered prefixes (breaks load order)
- ✗ Delete files without backing them up
- ✗ Mix different numbering schemes
- ✗ Manually edit files while `setup-monitors.sh` is running

## Troubleshooting

**Config not loading:**
```bash
# Check for syntax errors
swaymsg reload

# View Sway logs
journalctl -u sway -f
```

**Variables not recognized:**
Check that `00-variables.conf` loads before files that use those variables.

**Workspaces on wrong monitor:**
Verify workspace assignments in `20-workspaces.conf` and reload Sway.

## See Also

- [MULTI-MONITOR.md](../../MULTI-MONITOR.md) - Complete multi-monitor documentation
- [Sway Configuration](../config) - Main Sway configuration file
- `man 5 sway` - Sway configuration manual

## Philosophy

This modular approach follows BunkerOS principles:
- **Performance First** - Only load what's needed
- **Configuration Compatibility** - Easy to share and version control
- **Operational Efficiency** - Clear organization, fast to understand
- **Simplicity** - One file per concern, numbered for clarity
